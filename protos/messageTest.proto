syntax = "proto3";

package meshScale;
import "nanopb.proto";

message SendTextM
{
  string send_string    = 1 [(nanopb).max_size = 64];
  uint32 destination_nr = 2;
}

message SendAnnounceM
{
  uint32 destination_nr = 1;
}

message CommandFromClientM {
  oneof command
  {
    SendTextM     send_text     = 1;
    SendAnnounceM send_announce = 2;
  }
}

message TelemetryM
{
  sint32 battery_level = 1;
}

message PbMessage {
  optional fixed32 timestamp = 1;
  oneof payload {
    CommandFromClientM command_from_client = 2;
    TelemetryM         telemetry           = 3;
  };
}
